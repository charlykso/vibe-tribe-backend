{"version":3,"file":"advancedRateLimit.js","sourceRoot":"","sources":["../../src/middleware/advancedRateLimit.ts"],"names":[],"mappings":"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"}